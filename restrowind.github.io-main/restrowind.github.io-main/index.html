<!DOCTYPE html>
<html lang="en">
  
  <head>
    <script src="js/script.js"></script> <!-- 将 script.js 文件链接到页面 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Name - Portfolio</title>
    <link rel="stylesheet" href="css/style.css">
  </head>


  <body>
    
    <header style="background-color: #207f4c;">
      <div class="header-content">

        <!-- 头像和欢迎部分 -->
        <div class="profile">
          <img src="images/profilephoto.jpg" alt="Your Name">
          <p><em>Welcome to my personal website！</em></p>
        </div>

        <div class="game-machine">
          <!-- 游戏区域 -->
          <div class="snake-game-container">
            <canvas id="gameCanvas" width="135" height="135"></canvas>
          </div>
          <!-- 按键 -->
          <div class="controls">
            <div class="up-down-buttons">
              <button id="upButton"></button>
            </div>
            <div class="left-right-buttons">
              <button id="leftButton"></button>
              <button id="rightButton"></button>
            </div>
            <div class="up-down-buttons">
              <button id="downButton"></button>
            </div>
          </div>
          <!-- 重新开始按钮 -->
          <div class="restart-button">
            <button id="restartButton">Restart</button>
          </div>
        </div>
      </div>  
    </header>

    <main>

      <section id="about Netsite">
        <div class="vertical-space"></div>
        <h1>———— About the Website ————</h1>
        <div class="vertical-space"></div>
        <div class="about-content">
          <p>在这里添加你的自我介绍，你可以描述自己的背景、技能和兴趣爱好等。图片和文字将采用包围格式环绕图片，使页面布局更加美观。</p>
        </div>
      </section>
      
      <section id="about">
        <div class="vertical-space"></div>
        <h1>———— About Me ————</h1>
        <div class="vertical-space"></div>
        <div class="about-content">
          <img src="images/about_picture.png" alt="关于我图片" class="about-image">
          <p>在这里添加你的自我介绍，你可以描述自己的背景、技能和兴趣爱好等。图片和文字将采用包围格式环绕图片，使页面布局更加美观。</p>
        </div>
      </section>

      <section id="about school">
        <div class="vertical-space"></div>
        <h1>———— My Undergraduate University  ————</h1>
        <div class="vertical-space"></div>
        <div class="about-content">
          <img src="images/about_picture.png" alt="CUC图片" class="about-image">
          <p>在这里添加你的自我介绍，你可以描述自己的背景、技能和兴趣爱好等。图片和文字将采用包围格式环绕图片，使页面布局更加美观。</p>
        </div>
      </section>

      <section id="portfolio">
        <div class="vertical-space"></div>
        <div class="vertical-space"></div>
        <div class="vertical-space"></div>
        <h1>———— Portfolio Catalog ————</h1>
        <div class="vertical-space"></div>
        <ul>
          <li class="work-item" onclick="goToWorkPage('works/work1.html')">
              <div class="work-thumbnail">
                <img src="images/work1_image.png" alt="作品1图片">
              </div>
              <div class="work-description">
                <p class="work-title">作品1</p>
                <p class="work-text">在这里添加作品1的简要介绍。</p>
              </div>
          </li>
          <li class="work-item" onclick="goToWorkPage('works/work2.html')">
              <div class="work-thumbnail">
                <img src="images/work2_image.png" alt="作品2图片">
              </div>
              <div class="work-description">
                <p class="work-title">作品2</p>
                <p class="work-text">在这里添加作品2的简要介绍。</p>
              </div>
            </a>
          </li>
          <!-- 添加更多作品链接 -->
        </ul>
      </section>
      
        <div class="vertical-space"></div>
        <div class="vertical-space"></div>
        <div class="vertical-space"></div>
    </main>

    <footer>
      <div class="vertical-space"></div>
      <p>E-mail：light_of_violin@163.com | Phone Number：(+86) 13021329116</p>
      <div class="vertical-space"></div>
      <div class="vertical-space"></div>
    </footer>


    <script>
      // JavaScript代码部分（贪吃蛇游戏逻辑和操作）
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const gridSize = 15;
      const rows = canvas.height / gridSize;
      const cols = canvas.width / gridSize;

      let snake = [];
      snake[0] = { x: 1, y: 4 }; // 贪吃蛇初始位置居中
      snake[1] = { x: 0, y: 4 }; // 贪吃蛇初始长度为2

      let food = generateFood();
      let direction = 'right';

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // 绘制食物
        ctx.fillStyle = 'red';
        ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize, gridSize);

        // 绘制贪吃蛇
        drawSnake();
      }

      // 绘制蛇的函数
      function drawSnake() {
        // 绘制蛇头颜色
        ctx.fillStyle = "#207f4c"
        ctx.fillRect(snake[0].x * gridSize, snake[0].y * gridSize, gridSize, gridSize);

        // 绘制蛇身颜色
        ctx.fillStyle = "#61649f";;
        for (let i = 1; i < snake.length; i++) {
          ctx.fillRect(snake[i].x * gridSize, snake[i].y * gridSize, gridSize, gridSize);
        }
      }

      function moveSnake() {
        let headX = snake[0].x;
        let headY = snake[0].y;

        // 根据方向移动贪吃蛇头部
        if (direction === 'up') {
          headY--;
          if (headY < 0) headY = rows - 1; // 贪吃蛇头部穿越上边界
        } 
        else if (direction === 'down') {
          headY++;
          if (headY >= rows) headY = 0; // 贪吃蛇头部穿越下边界
        } 
        else if (direction === 'left') {
          headX--;
          if (headX < 0) headX = cols - 1; // 贪吃蛇头部穿越左边界
        } 
        else if (direction === 'right') {
          headX++;
          if (headX >= cols) headX = 0; // 贪吃蛇头部穿越右边界
        }

        // 添加新的头部
        const newHead = { x: headX, y: headY };
        snake.unshift(newHead);

        // 检查是否吃到食物
        if (headX === food.x && headY === food.y) {
          food = generateFood();
        } 
        else {
          snake.pop(); // 移除尾部
        }
    }


    function generateFood() {
      const x = Math.floor(Math.random() * cols);
      const y = Math.floor(Math.random() * rows);
      return { x, y };
    }

    function checkCollision() {
      const head = snake[0];

      // 检查是否碰到自己的身体
      for (let i = 1; i < snake.length; i++) {
        if (snake[i].x === head.x && snake[i].y === head.y) {
          return true;
        }
      }

      return false;
    }
    var looping=true;

    function gameLoop() {
      
      if(looping)
      {
        if (checkCollision()) {
          // 游戏结束
          alert('游戏结束！');
          looping=false;
        } 
        else {
          moveSnake();
          draw();
          setTimeout(gameLoop, 200);
        }
      }
    }

    gameLoop();

    // 监听按钮点击事件，控制贪吃蛇方向
    document.getElementById('leftButton').addEventListener('click', () => {
      if (direction !== 'right') direction = 'left';
    });
    document.getElementById('upButton').addEventListener('click', () => {
      if (direction !== 'down') direction = 'up';
    });
    document.getElementById('downButton').addEventListener('click', () => {
      if (direction !== 'up') direction = 'down';
    });
    document.getElementById('rightButton').addEventListener('click', () => {
      if (direction !== 'left') direction = 'right';
    });

    // 监听重新开始按钮点击事件
    document.getElementById('restartButton').addEventListener('click', () => {
      snake = [];
      snake[0] = { x: 1, y: 4 }; // 贪吃蛇初始位置居中
      snake[1] = { x: 0, y: 4 }; // 贪吃蛇初始长度为2

      food = generateFood();
      direction = 'right';
      if(!looping)
      {
        looping=true;// 重新开始游戏循环
        gameLoop();
      }
    });
    </script>

    <script>
      function goToWorkPage(url) {
    // 添加页面渐变效果
    document.body.style.transition = 'opacity 0.5s ease';
    document.body.style.opacity = '0';
    
    // 等待一小段时间，再进行页面跳转
    setTimeout(function() {
      window.location.href = url;
    }, 500); // 0.5秒后跳转页面
    }
    </script>

  </body>

  
</html>
